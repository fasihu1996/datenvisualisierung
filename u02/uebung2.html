<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8" />

        <title>Übung 2</title>

        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>

    <body>
        <div id="myDiv" style="width: 600px; height: 400px"></div>

        <script>
            function makeplot() {
                Plotly.d3.csv(
                    "https://raw.githubusercontent.com/plotly/datasets/master/2014_apple_stock.csv",
                    function (data) {
                        processData(data);
                    }
                );
            }

            function processData(allRows) {
                console.log(allRows);
                var x = [],
                    y = [];

                for (var i = 0; i < allRows.length; i++) {
                    row = allRows[i];
                    x.push(row["AAPL_x"]);
                    y.push(row["AAPL_y"]);
                }
                console.log("X", x, "Y", y);
                makePlotly(x, y);
            }

            function makePlotly(x, y) {
                var traces = [
                    {
                        x: x,
                        y: y,
                    },
                ];

                Plotly.newPlot("myDiv", traces, {
                    title: {
                        text: "Aktienkurs von Apple",
                    },
                });
            }

            makeplot();
        </script>
    </body>
</html>

‍
